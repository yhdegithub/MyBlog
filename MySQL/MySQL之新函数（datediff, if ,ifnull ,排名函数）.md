## 1、datediff（）函数

主要返回两个日期之间的差距天数。

比如datediff('2019-03-02' ,2019-03-01) 就返回-1天



## 2、ifnull(y1,null)

如果y1子句有返回行，则返回y1 , 否则返回null



## 3、select if(判断，y1,y2)

若判断为真，则返回y1 ,否则y2

比如 ， select if（1>2 ,3,5）  就会返回5



## 4、排名函数dense_rank()、rank（）、row_number（）

说在前面，这种开窗函数，是新的MySQL才支持的 ，所以别说MySQL没有这种函数。就像在网上看到MyISAM支持全文本索引，InnoDB不支持一样。其实人家新版的InnoDB早就支持全文本了，所以，还是要跟上潮流呀。

这三个函数主要用于列表的排名问题，参数就是按照指定属性的排序顺序，比如设置成 order by age desc

此外也注意到rank是MySQL中的关键字，如果取名要用到，则写成    ‘rank’ (MYSQL默认不区分大小写)

####  三个函数的差别



**dense_rank() ：**

可以并列数据（排名属性大小相同），且排名名次是顺序的 ，比如排名依次是**（1,2,2,3,4,4,4,5）**



**rank_over()**:

 排名可并列，但是名次数据并不一定连续， 比如第一名有两个（名次都为1,1），然后本来排第二的，前面有2个人比他高 ，所以他的实际排名是第三名（名次为3）。 后面再有人和此人成绩相同，也拍第三。 比如名次数据 ： **（1,1,3,3,3,6） **

**row_number():**

不并列排名 ，直接就是连续的，谁先查出来谁就排第前头 **（1,2,3,4,5,6,7）**

![image-20200830091107160](C:\Users\23712\AppData\Roaming\Typora\typora-user-images\image-20200830091107160.png)